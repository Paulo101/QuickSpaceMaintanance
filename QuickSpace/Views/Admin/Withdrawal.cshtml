@model IEnumerable<QuickSpace.Models.Entities.WithdrawalRequest>
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    ViewBag.Title = "Withdrawal";
     Layout = "~/Views/Admin/_Layout.cshtml";
}
@if(ViewBag.Error != null)
                                                    {
                                                       	<div class="alert alert-danger" role="alert">
                                                               	<button type="button" class="close" data-dismiss="alert" aria-label="Close">
			    	                                                <span aria-hidden="True">&times;</span>
			  	                                                </button>
	                                                       @ViewBag.Error
	                                                    </div>
                                         
                                                    }
                                                    @if(ViewBag.Success != null)
                                                    {
                                                        <div class="alert alert-success" role="alert">
                                                               	<button type="button" class="close" data-dismiss="alert" aria-label="Close">
			    	                                                <span aria-hidden="True">&times;</span>
			  	                                                </button>
	                                                       @ViewBag.Success
	                                                    </div>
                                                    }
	@if(Model.Count() > 0)
		{
		<div class="row">
							<div class="col-12"> 
                  <!-- Recent Order Table -->
                  <div class="card card-table-border-none" id="recent-orders">
                    <div class="card-header justify-content-between">
                      <h2>Buy from Peers</h2>
                      <div class="date-range-report ">
                        <span></span>
                      </div>
                    </div>
                    <div class="card-body pt-0 pb-5">
                      <table class="table card-table table-responsive table-responsive-large" style="width:100%">
                        <thead>
                          <tr>
                            <th>Wiithdrawal ID</th>
                            <th>User Email</th>
                             <th>Available Funds</th>
                            <th class="d-none d-md-table-cell">Requested Amount</th>
                            <th>Status</th>
                            <th></th>
                          </tr>
                        </thead>
                        <tbody>
                            @foreach (var item in Model)
                            {
                               
                          <tr>
                            <td >@item.Id</td>
                            <td >
                              <a class="text-dark" href=""> @item.UserEmail</a>
                            </td>
                            <td class="d-none d-md-table-cell">@item.AvailableBalance </td>
                            <td class="d-none d-md-table-cell">@item.RequestAmount</td>
                 
                                        <td class="text-right">
                                            <div class="dropdown show d-inline-block widget-dropdown">
                                                <a class="dropdown-toggle icon-burger-mini" href="" role="button" id="dropdown-recent-order1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" data-display="static"></a>
                                                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdown-recent-order1">
                                                    <li class="dropdown-item">
                                                        <a  asp-route-id="@item.Id" asp-action="Withdrawal">Approve</a>
                                                    </li>
                                                </ul>
                                            </div>
                                        </td>
                                </tr>
                        }
                        </tbody>
                      </table>
                    </div>
                  </div>
      </div>
</div>
}
else{
     <h2>No Withdrawals yet!</h2>
}